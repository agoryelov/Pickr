{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\steve\\\\OneDrive\\\\Documents\\\\CST\\\\Term 2\\\\Projects 2\\\\Pickr\\\\src\\\\components\\\\Pages\\\\SignUp.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport * as ROUTES from '../../constants/routes';\nimport Firebase from '../firebase';\n\nconst SignUpPage = () => React.createElement(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 8\n  },\n  __self: this\n}, React.createElement(\"h1\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9\n  },\n  __self: this\n}, \"Sign Up\"), React.createElement(SignUpForm, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}));\n\nclass SignUpFormBase extends Component {\n  constructor(props) {\n    super(props);\n    this.firebase = new Firebase();\n\n    this.onSubmit = event => {\n      event.preventDefault();\n      const username = this.state.username;\n      const email = this.state.email;\n      const password = this.state.password;\n      this.firebase.signUp(email, password).then(authUser => {\n        this.firebase.user(authUser.user.uid).set({\n          username,\n          email\n        });\n      }).then(() => {\n        this.setState({\n          username: '',\n          email: '',\n          password: '',\n          error: null\n        });\n        this.props.history.push(ROUTES.HOME);\n      });\n    };\n\n    this.onChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.state = {\n      username: '',\n      email: '',\n      password: '',\n      error: null\n    };\n  }\n\n  render() {\n    const username = this.state.username;\n    const email = this.state.email;\n    const password = this.state.password;\n    const error = this.state.error;\n    const isInvalid = username === '' || email === '' || password === '';\n    return React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"username\",\n      value: username,\n      onChange: this.onChange,\n      type: \"text\",\n      placeholder: \"Username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"email\",\n      value: email,\n      onChange: this.onChange,\n      type: \"email\",\n      placeholder: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"password\",\n      value: password,\n      onChange: this.onChange,\n      type: \"password\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      disabled: isInvalid,\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Sign Up\"), error && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, error.message));\n  }\n\n}\n\nconst SignUpForm = withRouter(SignUpFormBase);\nexport default SignUpPage;","map":{"version":3,"sources":["C:\\Users\\steve\\OneDrive\\Documents\\CST\\Term 2\\Projects 2\\Pickr\\src\\components\\Pages\\SignUp.js"],"names":["React","Component","withRouter","ROUTES","Firebase","SignUpPage","SignUpFormBase","constructor","props","firebase","onSubmit","event","preventDefault","username","state","email","password","signUp","then","authUser","user","uid","set","setState","error","history","push","HOME","onChange","target","name","value","render","isInvalid","message","SignUpForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport * as ROUTES from '../../constants/routes';\r\nimport Firebase from '../firebase'\r\n\r\nconst SignUpPage = () => (\r\n  <div>\r\n    <h1>Sign Up</h1>\r\n    <SignUpForm />\r\n  </div>\r\n);\r\n\r\nclass SignUpFormBase extends Component {\r\n\r\n  firebase = new Firebase();\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n      error: null,\r\n    }\r\n  }\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n    const username = this.state.username;\r\n    const email = this.state.email;\r\n    const password = this.state.password;\r\n    \r\n    this.firebase.signUp(email, password)\r\n    .then((authUser) => {\r\n      this.firebase.user(authUser.user.uid).set({\r\n        username,\r\n        email,\r\n      });\r\n    })\r\n    .then(() => {\r\n      this.setState({\r\n        username: '',\r\n        email: '',\r\n        password: '',\r\n        error: null,\r\n      });\r\n      this.props.history.push(ROUTES.HOME);\r\n    });\r\n  }\r\n\r\n  onChange = event => {\r\n    this.setState({[event.target.name]: event.target.value})\r\n  };\r\n\r\n  render() {\r\n    const username = this.state.username;\r\n    const email = this.state.email;\r\n    const password = this.state.password;\r\n    const error = this.state.error;\r\n\r\n    const isInvalid = username === '' || email === '' || password === '';\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <input name=\"username\" value={username} onChange={this.onChange} type=\"text\" placeholder=\"Username\" />\r\n        <input name=\"email\" value={email} onChange={this.onChange} type=\"email\" placeholder=\"Email\" />\r\n        <input name=\"password\" value={password} onChange={this.onChange} type=\"password\" placeholder=\"Password\" />\r\n        <button disabled={isInvalid} type=\"submit\">Sign Up</button>\r\n\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst SignUpForm = withRouter(SignUpFormBase);\r\n\r\nexport default SignUpPage;"]},"metadata":{},"sourceType":"module"}