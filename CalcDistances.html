<!DOCTYPE html>
<html>
    <head>
            <!--<script  defer src="https://maps.googleapis.com/maps/api/js?libraries=places&language=en&key=AIzaSyDObcbBduNUrssstwky_0Bp83RT1qT731Y"  type="text/javascript"></script>-->
               
                 <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&v=3&libraries=geometry"></script>
               
            </head>

    <body>


        <button onclick="calcDist()">calc distance</button>
        <script>
            var distance;
            var userLat;
            var userLong;
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(showPosition);                    
                } else { 
                    x.innerHTML = "Geolocation is not supported by this browser.";
                }
            function calcDist(){
                
                let latitude2 = 40.40;
                let longitude2 = -3.68;
                distance = google.maps.geometry.spherical.computeDistanceBetween(new google.maps.LatLng(userLat, userLong), new google.maps.LatLng(latitude2, longitude2));     
                distance /= 1000;
                console.log(distance);
            }
              
            
           function showPosition(position) {
                userLat = position.coords.latitude;
                userLong = position.coords.longitude;
                
                
                
            }

        </script>
 

    </body>
</html>